{#
 # Cogitoweb: when TWIG engine is asked for "SonataAdminBundle:CRUD:base_edit_form.html.twig",
 # it renders the current template because CogitowebMultiLevelAdminBundle extends SonataAdminBundle.
 # Using the following namespace trick ("{% use '@...' %}") allows to:
 # 1) Import all blocks from the original template;
 # 2) Edit only the needed blocks;
 # 3) Render the original template with edited blocks;
 # 
 # This technique improves decoupling between templates because, otherwise,
 # the developer was supposed to copy-paste the whole original template in the new one
 # and keep track of changes manually.
 # 
 # Last but not least, "{% extends 'Sonata...' %}" does not work because,
 # due to bundle extension, the template would call itself recursively.
 #}
{% use '@SonataAdmin/CRUD/base_edit_form.html.twig' %}

{% block sonata_form_action_url %}
	{# Cogitoweb: changed id parameter from 'id' to actual Admin id parameter name, so that the router has all informations needed to generate the route #}
	{# {{ admin.generateUrl(url, {'id': admin.id(object), 'uniqid': admin.uniqid, 'subclass': app.request.get('subclass')}) }} #}
	{{ admin.generateUrl(url, {(admin.idParameter): admin.id(object), 'uniqid': admin.uniqid, 'subclass': app.request.get('subclass')}) }}
{% endblock %}